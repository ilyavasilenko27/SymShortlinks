{% extends 'base.html.twig' %}

{% block title %}Короткие ссылки{% endblock %}

{% block body %}
    <style>
		.example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
		.example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
    </style>

    <div class="example-wrapper">
        <h1>Короткие ссылки</h1>

        <p>Для перехода по ссылке добавьте токен {{ app.request.uri }}(token)</p>

        <form>
            <label for="token">
                Токен
            </label>
            <input type="hidden" value="{{ app.request.uri }}" id="url">
            <input type="text" name="token" id="token">
            <button id="redirect">Перейти</button>
        </form>

        <script>
            let button = document.querySelector('#redirect');
            button.addEventListener('click', function (e) {
                e.preventDefault();
                let token = document.querySelector('#token').value;
                let url = document.querySelector('#url').value;
                if (!!token && !!url) {
                    window.location.href = url + token;
                }
            })
        </script>
    </div>
{% endblock %}
